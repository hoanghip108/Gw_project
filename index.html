<!DOCTYPE html>
<html>
  <head>
    <title>Post to API and Redirect</title>
  </head>
  <body>
    <h1>Post to API and Redirect Example</h1>

    <form id="myForm" action="http://localhost:3000/api/createPayment" method="POST">
      <label for="data">Data to Post:</label>
      <input type="text" id="bankCode" name="bankCode" value="bankCode" />
      <input type="text" id="language" name="language" value="language" />
      <input type="text" id="amount" name="amount" value="amount" />
      <input type="submit" value="Submit" />
    </form>

    <script>
      // Add a submit event listener to the form
      document.getElementById('myForm').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent the form from submitting normally

        // Data to send to the API
        const dataToSend = {
          bankCode: document.getElementById('bankCode').value,
          language: document.getElementById('language').value,
          amount: document.getElementById('amount').value,
        };

        // Perform a POST request to the API
        fetch(this.action, {
          method: this.method,
          body: JSON.stringify(dataToSend),
          headers: {
            'Content-Type': 'application/json',
          },
        })
          .then((response) => response.json())
          .then((data) => {
            // Handle the API response here, if needed
            console.log('API Response:', data);

            // Redirect to a URL after the API request is successful
            window.location.href = 'https://your-redirect-url.com';
          })
          .catch((error) => {
            // Handle errors here, if needed
            console.error('Error:', error);
          });
      });
    </script>
  </body>
</html>
